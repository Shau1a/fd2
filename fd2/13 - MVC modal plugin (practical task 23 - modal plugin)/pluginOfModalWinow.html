<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Modal default</title>
    <link href="https://fonts.googleapis.com/css?family=Exo+2" rel="stylesheet">
    <style>
        body {
            margin: 0;
            background-color:#556;
            background-image: linear-gradient(30deg, #445 12%, transparent 12.5%, transparent 87%, #445 87.5%, #445),
            linear-gradient(150deg, #445 12%, transparent 12.5%, transparent 87%, #445 87.5%, #445),
            linear-gradient(30deg, #445 12%, transparent 12.5%, transparent 87%, #445 87.5%, #445),
            linear-gradient(150deg, #445 12%, transparent 12.5%, transparent 87%, #445 87.5%, #445),
            linear-gradient(60deg, #99a 25%, transparent 25.5%, transparent 75%, #99a 75%, #99a), 
            linear-gradient(60deg, #99a 25%, transparent 25.5%, transparent 75%, #99a 75%, #99a);
            background-size:80px 140px;
            background-position: 0 0, 0 0, 40px 70px, 40px 70px, 0 0, 40px 70px;
            font-family: 'Exo 2', sans-serif;
            box-sizing: border-box;
        }

        *, *:before, *:after {
            box-sizing: inherit;
        }

        .container {
            margin: 20px;
            padding: 20px;
            min-height: 600px;
            font-size: 16px;
            background-color: #fff;
        }

        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 50;
            background: rgba(0, 0, 0, 0.6);
        }

        .modal-open {
            color: #fff;
            border: 1px #007bff solid;
            border-radius: 5px;
            padding: 8px 12px;
            font-size: 16px;
            font-family: 'Exo 2', sans-serif;
            background-color: #007bff;
            text-decoration: none;
        }

        .modal-open:hover {
            text-decoration: none;
            background-color: #0069d9;
            border-color: #0062cc;
        }
        .modal-open:active {
            text-decoration: none;
            background-color: #0062cc;
            border-color: #005cbf;
        }

        .modal {
            display: block;
            width: 600px;
            max-width: 100%;
            height: 400px;
            max-height: 100%;
            position: fixed;
            z-index: 100;
            left: 50%;
            top: 50%;
            border-radius: 10px;
            transform: translate(-50%, -50%);
            background: white;
            box-shadow: 0 0 60px 10px rgba(0, 0, 0, 0.9);
        }

        .modal_closed {
            display: none;
        }

        .modal__header {
            border-bottom: 1px gray solid;
            padding: 10px 15px;
            margin-bottom: 15px;
        }
        .modal__close {
            position: absolute;
            top: 15px;
            right: 15px;
            width: 28px;
            height: 28px;
            border-radius: 50%;
            background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAEFCu8CAAAABGdBTUEAALGPC/xhBQAAAqpJREFUSA2tljtyFEEMhsdgHJpb2NyAxwkgcQHGHGE3Bs4B8RICV6G4ARSERH4QGaog4vF/qv7HWu3MzrqMqjR69C9puls9PV13QU9Rr13Y3Vfpf7GPxLdRROGw0hs43vHYFuM9wYAMOcbYaQ47u7fJgRMGFMkwIgyHyIDesNMgAD3dkvZDvGWPlSVUG4wxBu43h0HIGT4UO7Hv2EeoB1wCQPhYzi/i12JHSA26acWpLV96IMtDGQZU+TEDrT9qAb8lD8RnzXbwC9mL5vsjGbSvpwGnzWfB+5s8F7C/cLLSDrS8y0Ci+gbguutiBzxLYCoQkMm4D0NOD47JwVUl0Vz8U5wD38veFa8ldptDw9xpfhZvkj4JkStlnT1eoXxmMrjqHKUlYlMBsclsdg5gZWkKmgP/Q3EQi2Fgc/WNe2yH5IOKowscWDslxXV0lXF7DNiwzMEOpLLHkTHX7ECv3XKvBIH5Ll7KlOfEmIm3yAWeMEDf2Ylt+iYlv/Zz2cbR39FKdmBDeU4O5jMB7jMA0yspDp6SjunlJsE3enRROAGchFyVkzIruEmTT91cTLJ61GpyMGApfinioGwy3VxwSCcHudbS/yhUi5NzhXbl4QbJ4EVB0T65nYzF59ZyiFvMGFqNGkE0a25yg/KHuUFDkJxjB9dCAdAjHwbno0YcDP4s7KySt/dfh9RJ4gWGVsF54wgP3VMGWDKbenfl6nxYwBg/JuNjw8UwBsA/tEdyr9DU7MgVn8V9Kflj7OL8kY0tJ8nH9g9//mg7HzX2xEFzPT1g6V+pBglRZzE2+3y9ON8sJ0LnD8eXHCAus4X4QMyFt26PGAMDliPhi5A85OwvROlLtCOLdfZbXVWSi5wb0WOh+Nm7bFFiiL0S8btDc/HL80Z83hgdH2NgJukfa8ehuEonW4wAAAAASUVORK5CYII=');
            overflow: hidden;
            text-indent: -999em;
            text-decoration: none;
        }

        .modal__close:hover {
            background-color: #dc3545;
            text-decoration: none;
        }

        .modal__content {
            padding: 10px 15px;
            min-height: 200px;
        }
        .form-field {
            padding: 0 0 10px;
        }
        .form-field label {}
        .form-field input {
            border: 1px gray solid;
            border-radius: 5px;
            padding: 8px 12px;
            margin: 0 10px;
            font-size: 14px;
            font-family: 'Exo 2', sans-serif;
        }

        .form-field .input__default {
            width: 380px;
        }

        .form-field .input__date-birth {
            width: 100px;
            text-align: center;
        }

        .modal__footer {
            border-top: 1px gray solid;
            padding: 15px;
            margin-top: 15px;
            text-align: right;
        }
        .modal__footer button {
            border: 1px gray solid;
            border-radius: 5px;
            padding: 8px 12px;
            margin: 0 10px;
            font-size: 14px;
            font-family: 'Exo 2', sans-serif;
        }
        .modal__footer .modal__cancel {
            background-color: #dc3545;
            border-color: #dc3545;
            color: #fff;
        }

        .modal__footer .modal__cancel:hover {
            background-color: #c82333;
            border-color: #bd2130;
        }

        .modal__footer .modal__cancel:active {
            background-color: #bd2130;
            border-color: #b21f2d;
        }

        .modal__footer .modal__save {
            background-color: #28a745;
            border-color: #28a745;
            color: #fff;
        }

        .modal__footer .modal__save:hover {
            background-color: #218838;
            border-color: #1e7e34;
        }

        .modal__footer .modal__save:active {
            background-color: #1e7e34;
            border-color: #1c7430;
        }

        .overlay-default {
            padding: 10px;
            max-height: auto;
            background: royalblue;
        }

        .overlay-default iframe {
            display: block;
            height: 280px;
            margin: auto;
        }

    </style>
</head>
<body>

    <div class="container" id="container">
        <h1>Создание простейшего модального окошка!</h1>

        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Nam fuga sunt voluptas, ullam, sed consequuntur ab illo veniam ad totam alias voluptatibus sequi officiis, unde autem reiciendis magnam labore voluptatum?</p>
        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Nam fuga sunt voluptas, ullam, sed consequuntur ab illo veniam ad totam alias voluptatibus sequi officiis, unde autem reiciendis magnam labore voluptatum?</p>
        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Nam fuga sunt voluptas, ullam, sed consequuntur ab illo veniam ad totam alias voluptatibus sequi officiis, unde autem reiciendis magnam labore voluptatum?</p>
        <p><br><br></p>

        <p style="text-align: center;"><a href="#" id="modal-open" data-supermodal="modal-overlay" class="modal-open" title="Покажите мне модальное окошко">Открыть окно с формами (без доп.функционала)</a></p>
        <p><br><br></p>

        <p style="text-align: center;"><a href="#" id="modal-open_two" data-supermodal="modal-overlay_two" class="modal-open" title="Покажите мне модальное окошко">Открыть окно (есть верстка 1)</a></p>
        <p><br><br></p>

        <p style="text-align: center;"><a href="#" id="modal-open_three" data-supermodal="modal-overlay_three" class="modal-open" title="Покажите мне модальное окошко">Открыть окно (есть верстка 2)</a></p>

        <p><br><br></p>
        <p style="text-align: center;"><a href="#" data-supermodal="modal-overlay_hio" data-supermodal-title="Спасибо за регистрацию на нашем сайте!" data-supermodal-content="Ты потрясающий — поэтому мы хотим, чтобы твои друзья тоже зарегистрировались.Приглашай друзей и получи картиночку с котиком совершенно бесплатно!" id="two_modal-open" class="modal-open" title="Покажите мне модальное окошко">Верстка окна при загрузке страницы</a></p>

        <p><br><br></p>
        <p style="text-align: center;"><a href="#" data-supermodal="modal-default" data-supermodal-title="Lorem ipsum dolor sit amet." data-supermodal-content="Lorem ipsum dolor sit amet, consectetur adipisicing elit. Animi in, voluptas voluptatum harum magnam libero! <img src='https://upload.wikimedia.org/wikipedia/commons/thumb/9/9d/%D0%9C%D1%80%D0%B0%D0%BC%D0%BE%D1%80%D0%BD%D0%B0%D1%8F_%D0%A8%D0%B8%D0%BD%D1%88%D0%B8%D0%BB%D0%BB%D0%B0.jpg/220px-%D0%9C%D1%80%D0%B0%D0%BC%D0%BE%D1%80%D0%BD%D0%B0%D1%8F_%D0%A8%D0%B8%D0%BD%D1%88%D0%B8%D0%BB%D0%BB%D0%B0.jpg'>" class="modal-open" title="Покажите мне модальное окошко">Дефолтная верстка</a></p>

        <p><br><br></p>
        <p style="text-align: center;"><a href="#" data-supermodal="modal-default" data-supermodal-title="Video" data-supermodal-content='<iframe width="560" height="315" src="https://www.youtube.com/embed/m3lF2qEA2cw" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>' class="modal-open" title="Покажите мне модальное окошко">Дефолтная верстка: Video</a></p>

    </div>

    <div class="modal-overlay modal_closed" id="modal-overlay">
    <div class="modal">
        <header class="modal__header">
            <a href="#" class="modal__close close" id="modal-close" title="Закрыть модальное окно">Закрыть</a>
            <h2>Введите данные</h2>
        </header>

        <main class="modal__content">
            <div class="form-field">
                <label for="name">Ваше имя:</label>
                <input class="input__default" type="text" id="name" name="name" data-regx="(?:\w+)?[а-яА-Я]*$">
            </div>
            <div class="form-field">
                <label>Ваш день рождения:</label>
                <input type="text" class="input__date-birth" id="birth-day" name="name" placeholder="День" data-regx="[1-31]"> -
                <input type="text" class="input__date-birth" id="birth-month" name="name" placeholder="Месяц" data-regx='(1[0-2]|0[1-9])'> -
                <input type="text" class="input__date-birth" id="birth-year" name="name" placeholder="Год" data-regx='[0-9]{4}$'>
            </div>
        </main>

        <footer class="modal__footer">
            <button id="modal-cancel" class="modal__cancel close" title="Отмена">Отмена</button>
            <button id="modal-save" class="modal__save" title="Сохранить">Сохранить данные</button>
        </footer>
    </div>
    </div>


    <div class="modal-overlay modal_closed" id="modal-overlay_two">
    <div class="modal">
        <header class="modal__header">
            <a href="#" class="modal__close close" id="modal-close" title="Закрыть модальное окно">Закрыть</a>
            <h2>Введите данные</h2>
        </header>

        <main class="modal__content">
            <div class="form-field">
                <label for="name">Ваше имя:</label>
                <input class="input__default" type="text" id="name" name="name" data-regx="(?:\w+)?[а-яА-Я]*$">
            </div>
        </main>
    </div>
    </div>


    <div class="modal-overlay modal_closed" id="modal-overlay_three">
    <div class="modal">
        <header class="modal__header">
            <a href="#" class="modal__close close" id="modal-close" title="Закрыть модальное окно">Закрыть</a>
            <h2>Введите данные</h2>
        </header>
    </div>
    </div>


    <div class="modal-overlay modal_closed" id="modal-default">
    <div class="modal overlay-default">
        <header class="modal__header">
            <a href="#" class="modal__close close" id="modal-close" title="Закрыть модальное окно">Закрыть</a>
            <h2 data-info='title'></h2>
        </header>
        <div data-info='content'></div>
    </div>
    </div>


<script>


    //=================================================================//
    //                              view
    //=================================================================//

    let view = {

        openModalWindow : function(arg) {
            arg.classList.remove('modal_closed');
        },

        closeModalWindow : function(arg) {
            arg.classList.add('modal_closed');
        },

        createModalWindow: function(id, title, content) {
            this.id = id;
            this.title = title;
            this.content = content;

            let backgroundField = document.createElement('div');
                backgroundField.classList.add('modal-overlay', 'modal_closed');
                backgroundField.id = this.id;
            let mainField = document.createElement('div');
                mainField.classList.add('modal', 'overlay-default');
            let header = document.createElement('h2');
                header.innerHTML = this.title;
            let fieldContent = document.createElement('div');
                fieldContent.innerHTML = this.content;
            let closeElement = document.createElement('a');
                closeElement.setAttribute('href', '#');
                closeElement.classList.add('modal__close', 'close');
            document.body.appendChild(backgroundField);
            backgroundField.appendChild(mainField);
            mainField.appendChild(header);
            mainField.appendChild(closeElement);
            mainField.appendChild(fieldContent);
        }
    }

    //=================================================================//
    //                             model
    //=================================================================//

    let model = {

        modalLinks : document.querySelectorAll(['a[data-supermodal]']),
        close :  document.getElementsByClassName('close'),

        openModal : function(arg) {
            view.openModalWindow(arg);
        },

        closeModal : function(arg) {
            view.closeModalWindow(arg);
        },

        getExtraWindows : function() {
            let obj = {},
                title,
                content;
            for (let i = 0; i < model.modalLinks.length; i++) {
                if (model.modalLinks[i].getAttribute('data-supermodal-title')) {
                    title = model.modalLinks[i].getAttribute('data-supermodal-title');
                }
                if (model.modalLinks[i].getAttribute('data-supermodal-content')) {
                    content = model.modalLinks[i].getAttribute('data-supermodal-content');
                }
                let id = model.modalLinks[i].getAttribute('data-supermodal');
                if (!document.getElementById(id)) {
                    obj.id = view.createModalWindow(id, title, content);  
                }
            };
        },

        setContent : function(el, overlay) {
            let replaceArr = overlay.querySelectorAll('[data-info]');
            if (replaceArr) {
                replaceArr.forEach(function(elem) {
                    let name = elem.getAttribute('data-info');
                    if (name == 'title') {
                      elem.innerHTML = el.getAttribute('data-supermodal-title');
                    }
                    if (name == 'content') {
                      elem.innerHTML = el.getAttribute('data-supermodal-content');
                    }
                });
            }
        }
    }

    //=================================================================//
    //                           controller
    //=================================================================//

    let controller = {

        setListener: function() {

            let id, overlay;

            for (let i = 0; i < model.modalLinks.length; i++) {
                model.modalLinks[i].addEventListener('click', function(e) {
                    e.preventDefault();
                    id = model.modalLinks[i].getAttribute('data-supermodal');
                    overlay = document.getElementById(id);
                    overlay.setAttribute('data-open', 'true');
                    model.setContent(model.modalLinks[i], overlay);
                    model.openModal(overlay);
                })
            };
            for (let i = 0; i < model.close.length; i++) {
                model.close[i].addEventListener('click', function(e) {
                    e.preventDefault();
                    let openedWindow = document.querySelector('[data-open = true]');
                    model.closeModal(openedWindow);
                    openedWindow.setAttribute('data-open', 'false');
                });
            };
        },

        start : function() {
            model.getExtraWindows();
            controller.setListener();
        }
    }

    controller.start();


</script>
</body>
</html>